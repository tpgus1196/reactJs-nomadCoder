<!DOCTYPE html>
<html lang="en">
<body>
    <div id="root"></div>
</body>

<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
    const root = document.getElementById("root");

    function App(){
    
        const [counter, setCounter] = React.useState(0); 
            
        const onClick = () => {
            //현재 state 바탕으로 다음 state 계산하고 싶을 때
            
            //오류 위험 있는 방법
            // setCounter(counter + 1); 
            //counter의 값에서 오류 날 수도 있음(값이 정확히 정해지지 않아서)
          
            //안전한 방법
            setCounter(current => current + 1);
           //이러면 리액트가 current는 확실히 현재 값임을 보장 
        };
        return(
            <div>
             <h3>Total clicks: {counter}</h3>
             <button onClick={onClick}>Click me</button>
            </div>
        );
    
    }

    ReactDOM.render(<App />, root); 
     
    
</script>

</html>